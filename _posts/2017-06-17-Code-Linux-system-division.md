---
layout: post
title:  centOS 分区详解
#时间配置
date:   2017-06-17 22:06:00 +0800
#大类配置
categories: Linux
#小类配置
tag: 知识体系
---

* content
{:toc}


每次重装 CentOS 的时候，我都得去翻鸟哥的书看看怎么来划分分区，与其每次找书，不如自己彻底来理解这个分区的划分，以及
整理一下鸟哥的规则。

----------------------------------------------

## 分区之前

### 磁盘分区表

<p>
	<img style="width:48%" src="{{ '/styles/images/Linux_disk_whole.png' | prepend: site.baseurl }}" />
	<img style="width:48%" src="{{ '/styles/images/Linux_disk_partition_table.png' | prepend: site.baseurl }}" />
</p>

如上左图是盘片组成示意图，其上可分出扇区（Sector）与柱面（Cylinder）两种单位，其中扇区每个为 512 bytes 那么大。在扇区中，第一个扇区又最为重要，
因为它记录了两个信息：

+ 主引导分区（Master Boot Record，MBR）：可以安装引导加载程序的地方，有 446 bytes。
+ 分表区（partition table 即右图示）：记录整块硬盘分区的状态，有 64 bytes。

我们现在就来谈谈 partition table：

我们利用参考柱面号码的方式在分区表所在的 64 bytes 容量中，总共分为四组记录区，每组记录区记录了该区段的起始与结束的柱面号码。若将硬盘以长条形
来看，然后将柱面以柱形图来看，即上右图所示。如图我们可以得出以下重点信息：

+ 其实所谓‘分区’只是针对那个 64 bytes 的分区进行设置而已。
+ 硬盘默认的分区表仅能写入四组分区信息。
+ 这四组分区信息我们成为主（Primary） 或扩展（Extended）分区。
+ 分区的最小单位为柱面（cylinder）

然后再根据主分区、扩展分区与逻辑分区的特性我们又可以总结如下：

+ 主分区与扩展分区最多可以有四个（硬盘的限制）
+ 扩展分区最多只能有一个（操作系统的限制）
+ 逻辑分区是由扩展分区持续切割出来的分区。
+ 能够被格式化后作为数据访问的分区为主分区与逻辑分区。扩展分区无法格式化。
+ 逻辑分区的数量依操作系统而不同，再 Linux 系统中， IDE 硬盘最多有 59 个逻辑分区（5号到63号），SATA 硬盘则有 11 个逻辑分区（5号到15号）

接下来简单总结整个开机流程到操作系统之前的动作：

1. BIOS：开机主动执行的韧体，会认识第一个可开机的设备。
2. MBR：第一个可开机设备的第一个扇区内的主引导分区块，内包含引导加载程序。
3. 引导加载程序（boot loader）：一支可读取内核文件来执行的软件。（可能有两个以上）
4. 内核文件：开始操作系统的功能。


## 开始分区

**首先我们谈谈分区的原则，即首先分析这台主机的未来用途，然后根据用途去分析需要较大容量的目录，以及读写较为频繁的目录，将这些重要的目录分别独立出来而不与
根目录放在一起，拿当这些读写较频繁的磁盘分区有问题时，至少不会影响到根目录的系统数据，挽救比较容易。并建议预留一个备用的剩余磁盘容量。**

在 centOS 下面比较符合容量大或读写频繁的目录：
~~~ Textile
	/
	/usr
	/home
	/var
~~~	

### 其实前面说那么多都没有用，安装的时候直接参考例子就可以了

还有更多内容，请参考[鸟哥的文档](http://linux.vbird.org/linux_basic/0157installcentos7.php)
