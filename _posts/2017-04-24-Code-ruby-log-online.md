---
layout: post
title:  关于日志文件与线上测试
#时间配置
date:   2017-04-24 08:00:00 +0800
#大类配置
categories: Ruby
#小类配置
tag: 测试
---

* content
{:toc}

 首先，让我们给日志分类。目前我所使用的，有 nginx 日志和 rails 日志。
	
Nginx 日志
----------------------------------------------
 (通过 find / -name 'nginx' 2>/dev/null 找到 nginx 目录，logs 下即为 nginx 陌生日志文件)

 nginx 又有两种，访问日志和错误日志。

 访问日志主要记录客服端访问 Nginx 的每一个请求，格式可以自定义。通过访问日志，我们可以得到用户地域来源、
跳转来源、使用终端、某个 URL 访问量等相关信息。

 错误日志主要记录客户端访问 Nginx 出错时的日志，格式不支持自定义。通过错误日志，你可以得到系统某个服务或
 server 的性能瓶颈等。
 
 Rails 日志
 ----------------------------------------------
 实际上 nginx 的日志内容很简略，我们线上调试更多的用的是 Rails 日志。
 (在 项目名的 shared 文件夹下)
 
 用 Rails.logger.info('日志内容') 即可写入日志内容。
 
 再用 tail 和 grep 配合即可输出自己想要的内容，从而达到调试的目的。
 
 